
-- File generated by Go version U-2022.12#33f3808fcb#221128, Wed Feb 21 17:37:19 2024
-- Copyright 2014-2022 Synopsys, Inc. All rights reserved.
-- go -I../lib -F -DIS_VHDL -DSYNTHESIS_NO_UNGROUP -D__tct_patch__=0 -VHDL -otrv32p3_cnn_vhdl -cgo_options.cfg -Itrv32p3_cnn_vhdl/tmp_pdg -updg -updg_controller trv32p3_cnn



architecture rtl of reg_ocd_instr is

  signal reg_val : t_iword;
  -- synopsys translate_off
  signal reg_write_log     : std_logic := '0';
  -- synopsys translate_on

begin

  -- synopsys translate_off
  p_reg_ocd_instr_log : process(clock)

    procedure log_reg_ocd_instr(reg_val : in t_iword) is
      variable lline : line;
      variable val_ok : boolean := true;
    begin
      write(lline, string'("ocd_instr"));
      write(lline, string'(" = "));
      for j in reg_val'range loop
        if reg_val(j) /= '0' and reg_val(j) /= '1' then
          val_ok := false;
          exit;
        end if;
      end loop;
      if val_ok then
        hwrite(lline, std_logic_vector(reg_val));
      else
        write(lline, string'("X"));
      end if;
      logfile_write(lline);
    end log_reg_ocd_instr;

  begin

    if clock'event and clock = '0' then
      if reg_log_gen then
        if reg_write_log = '1' then
          log_reg_ocd_instr(reg_val);
        end if;
      end if;
    end if;
  end process p_reg_ocd_instr_log;
  -- synopsys translate_on

  p_read_reg_ocd_instr : process(reg_val)
  begin
    -- ocd_instr_pdcr_out <= (others => '0');
    -- ocd_instr_r_out <= (others => '0');

    -- (ocd_instr_pdcr_rd_ocd_instr, ocd_instr_r_rd_ocd_instr_alw)
    ocd_instr_pdcr_out <= reg_val;
    -- [ocd.n:65]
    ocd_instr_r_out <= reg_val;

  end process p_read_reg_ocd_instr;

  p_write_reg_ocd_instr : process(clock, reset)
  begin
    if reset /= '0' then
      -- synopsys translate_off
      reg_write_log <= '0';
      -- synopsys translate_on
      reg_val <= to_unsigned(0, t_iword'length);
    elsif clock'event and clock = '1' then
      -- synopsys translate_off
      reg_write_log <= '0';
      -- synopsys translate_on

      -- (ocd_instr_wr_ocd_instr_w___ocd_ld_PMbS3_r_S3_alw, ocd_instr_wr_ocd_instr_pdcw)
      if ocd_ld_PMbS3_r_in then
        -- [ocd.n:89]
        -- synopsys translate_off
        reg_write_log <= '1';
        -- synopsys translate_on
        reg_val <= ocd_instr_w_in;
      end if;
      if en_ocd_instr_pdcw_in = '1' then
        -- synopsys translate_off
        reg_write_log <= '1';
        -- synopsys translate_on
        reg_val <= ocd_instr_pdcw_in;
      end if;

    end if;
  end process p_write_reg_ocd_instr;

end rtl;
