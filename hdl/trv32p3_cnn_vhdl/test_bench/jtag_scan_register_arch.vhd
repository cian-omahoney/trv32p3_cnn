
-- File generated by Go version U-2022.12#33f3808fcb#221128, Wed Feb 21 12:29:42 2024
-- Copyright 2014-2022 Synopsys, Inc. All rights reserved.
-- go -I../lib -F -DIS_VHDL -DSYNTHESIS_NO_UNGROUP -D__tct_patch__=0 -VHDL -otrv32p3_cnn_vhdl -cgo_options.cfg -Itrv32p3_cnn_vhdl/tmp_pdg -updg -updg_controller trv32p3_cnn



architecture rtl of jtag_scan_register is
  signal scan_reg_master : std_logic_vector(scan_reg_width_gen-1 downto 0);
  signal scan_reg_sig : std_logic_vector(scan_reg_width_gen-1 downto 0);
  signal scan_reg_slave : std_logic_vector(scan_reg_width_gen-1 downto 0);

begin

  jtag_par_out <= scan_reg_slave;

  p_scan_reg_master_input : process(jtag_capture_dr_in,
                                    jtag_shift_dr_in,
                                    scan_reg_master,
                                    jtag_si_in,
                                    jtag_par_in)

  begin
    scan_reg_sig <= (others => '0');
    jtag_so_out <= '0';
    if jtag_capture_dr_in = '1' then
      scan_reg_sig <= jtag_par_in;
    elsif jtag_shift_dr_in = '1' then
      jtag_so_out <= scan_reg_master(0);
      for i in 0 to scan_reg_width_gen-2 loop
        scan_reg_sig(i) <= scan_reg_master(i+1);
      end loop;
      scan_reg_sig(scan_reg_width_gen-1) <= jtag_si_in;
    end if;
  end process p_scan_reg_master_input;

  -- spyglass disable_block W391
  -- DISABLES: W391 (Reports modules driven by both edges of a clock)
  -- REASON: According to JTAG standard IEEE 1149.1, the test data registers
  --         shall be latched on the falling edge of TCK
  p_clock_scan_reg_master : process (jtag_tck_in, jtag_trst)
  begin
    if jtag_trst /= '1' then
      scan_reg_master <= (others => '0');
    elsif jtag_tck_in'event and jtag_tck_in = '1' then
      if jtag_capture_dr_in /= '0' or jtag_shift_dr_in /= '0' then
        scan_reg_master <= scan_reg_sig;
      end if;
    end if;
  end process p_clock_scan_reg_master;

  p_clock_scan_reg_slave : process (jtag_tck_in, jtag_trst)
  begin
    if jtag_trst /= '1' then
      scan_reg_slave <= (others => '0');
    elsif jtag_tck_in'event and jtag_tck_in = '0' then
      if jtag_update_dr_in /= '0' then
        scan_reg_slave <= scan_reg_master;
      end if;
    end if;
  end process p_clock_scan_reg_slave;
  -- spyglass enable_block W391

end rtl;
