
-- File generated by Go version U-2022.12#33f3808fcb#221128, Wed Feb 21 17:37:19 2024
-- Copyright 2014-2022 Synopsys, Inc. All rights reserved.
-- go -I../lib -F -DIS_VHDL -DSYNTHESIS_NO_UNGROUP -D__tct_patch__=0 -VHDL -otrv32p3_cnn_vhdl -cgo_options.cfg -Itrv32p3_cnn_vhdl/tmp_pdg -updg -updg_controller trv32p3_cnn



architecture behavioural of test_bench is

  component clock_gen
    port (
      reset_out : out std_logic;
      clock_out : out std_logic);
  end component;

  component tb_mem_PMb
    port (
      reset : in std_logic;
      clock : in std_logic;
      pm_addr_in : in t_addr;
      pm_ld_in : in std_logic;
      pm_st_in : in std_logic;
      pm_wr_in : in t_iword;
      pm_rd_out : out t_iword);
  end component;

  component tb_mem_eDM
    port (
      reset : in std_logic;
      clock : in std_logic;
      edm_ld_in : in t_uint1_t;
      edm_addr_in : in t_addr;
      edm_rd_out : out t_v4u8;
      edm_st_in : in t_uint4_t_as_vect;
      edm_wr_in : in t_v4u8);
  end component;

  component trv32p3_cnn
    port (
      clock : in std_logic;
      reset_ext : in std_logic;
      pm_rd_in : in t_iword;
      pm_addr_out : out t_addr;
      pm_wr_out : out t_iword;
      pm_st_out : out std_logic;
      pm_ld_out : out std_logic;
      jtag_tck_in : in std_logic;
      jtag_tms_in : in std_logic;
      jtag_tdi_in : in std_logic;
      jtag_tdo_out : out std_logic;
      jtag_trst : in std_logic;
      dbg_ext_break_in : in std_logic;
      dbg_set_break_out : out std_logic;
      edm_ld_out : out t_uint1_t;
      edm_addr_out : out t_addr;
      edm_rd_in : in t_v4u8;
      edm_st_out : out t_uint4_t_as_vect;
      edm_wr_out : out t_v4u8);
  end component;

  component jtag_emulator
    port (
      jtag_tdo_in : in std_logic;
      jtag_tck_out : out std_logic;
      jtag_tdi_out : out std_logic;
      jtag_tms_out : out std_logic;
      jtag_trst_out : out std_logic);
  end component;

  signal clock : std_logic;
  signal reset : std_logic;
  signal pm_rd : t_iword;
  signal pm_addr : t_addr;
  signal pm_wr : t_iword;
  signal pm_st : std_logic;
  signal pm_ld : std_logic;
  signal jtag_tck : std_logic;
  signal jtag_tms : std_logic;
  signal jtag_tdi : std_logic;
  signal jtag_tdo : std_logic;
  signal jtag_trst : std_logic;
  signal dbg_ext_break : std_logic;
  signal dbg_set_break : std_logic;
  signal edm_ld : t_uint1_t;
  signal edm_addr : t_addr;
  signal edm_rd : t_v4u8;
  signal edm_st : t_uint4_t_as_vect;
  signal edm_wr : t_v4u8;

begin

  inst_clock_gen : clock_gen
  port map (
    reset_out => reset,
    clock_out => clock);

  inst_tb_mem_PMb : tb_mem_PMb
  port map (
    reset => reset,
    clock => clock,
    pm_addr_in => pm_addr,
    pm_ld_in => pm_ld,
    pm_st_in => pm_st,
    pm_wr_in => pm_wr,
    pm_rd_out => pm_rd);

  inst_tb_mem_eDM : tb_mem_eDM
  port map (
    reset => reset,
    clock => clock,
    edm_ld_in => edm_ld,
    edm_addr_in => edm_addr,
    edm_rd_out => edm_rd,
    edm_st_in => edm_st,
    edm_wr_in => edm_wr);

  inst_trv32p3_cnn : trv32p3_cnn
  port map (
    clock => clock,
    reset_ext => reset,
    pm_rd_in => pm_rd,
    pm_addr_out => pm_addr,
    pm_wr_out => pm_wr,
    pm_st_out => pm_st,
    pm_ld_out => pm_ld,
    jtag_tck_in => jtag_tck,
    jtag_tms_in => jtag_tms,
    jtag_tdi_in => jtag_tdi,
    jtag_tdo_out => jtag_tdo,
    jtag_trst => jtag_trst,
    dbg_ext_break_in => dbg_ext_break,
    dbg_set_break_out => dbg_set_break,
    edm_ld_out => edm_ld,
    edm_addr_out => edm_addr,
    edm_rd_in => edm_rd,
    edm_st_out => edm_st,
    edm_wr_out => edm_wr);

  inst_jtag_emulator : jtag_emulator
  port map (
    jtag_tdo_in => jtag_tdo,
    jtag_tck_out => jtag_tck,
    jtag_tdi_out => jtag_tdi,
    jtag_tms_out => jtag_tms,
    jtag_trst_out => jtag_trst);

  dbg_ext_break <= '0';
end behavioural;

